(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),l=a.n(r),i=(a(58),a(31),a(20)),s=a.n(i),c=a(29),u=a(50),d=a(8),p=a(9),m=a(11),h=a(10),b=a(12),f=(a(63),a(65),function(e){return e.label?o.a.createElement("div",{className:"pa2 w-100 fl"},o.a.createElement("label",{className:e.labelClass},e.label),o.a.createElement("input",{className:e.inputClass,onChange:e.onchange,name:e.name,type:e.type})):o.a.createElement("div",{className:"pa2 w-100 fl"},o.a.createElement("input",{className:e.inputClass,onChange:e.onchange,name:e.name,type:e.type}))}),C=a(43),g=a.n(C),v=(a(67),function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;this.props.isLoading?e=o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:"svg-load spin",src:g.a,alt:"Loading"}),"\xa0\xa0",o.a.createElement("span",null,"Loading")):e=this.props.content;return o.a.createElement("div",{className:this.props.align},o.a.createElement("button",{name:this.props.name,onClick:this.props.onclick,className:this.props.class},e))}}]),t}(n.Component)),w=function(e){return o.a.createElement("div",{className:"tc"},o.a.createElement(f,{inputClass:"input-field input-shadow",labelClass:"mr2 dark-blue tr dib w-30 label-anime",label:"Enter PNR Number",type:"text"}),o.a.createElement(v,{onclick:e.pnrValidator,class:"f5 link ph3 pv2 mt2 mb2 dib white bg-dark-blue br2",content:"Check Status"}))},y=a(51),E=a(44),k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={},a.handleChange=function(e){var t=e.option;a.setState({selectedOption:t}),a.props.onPowerChange(t,a.props.name)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=[];return this.props.options.forEach(function(t){return e.push(o.a.createElement("option",{value:t},t))}),o.a.createElement("div",{className:"pa2 w-100 fl"},o.a.createElement("label",{className:this.props.labelClass},this.props.label),o.a.createElement("div",{style:{width:"40%",display:"inline-block",height:"32px",paddingTop:"8px"}},o.a.createElement(E.PowerSelect,{placeholder:"Choose an option",options:this.props.options,selected:this.state.selectedOption,onChange:this.handleChange})))}}]),t}(n.Component),O=a(45),j=a.n(O),S=(a(86),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).seatFareObjo={trainNo:{label:"Enter Train No",name:"trainNo",type:"text"},sourceCode:{label:"Enter Source",name:"sourceCode",type:"text"},destCode:{label:"Enter Destination",name:"destCode",type:"text"},date:{label:"Enter Date",name:"date",type:"date"},pref:{label:"Enter Preference",name:"pref",options:["1A","2A","3A","SL","FC","CC","2S"],type:"select"},quotaCode:{label:"Enter Quota",name:"quotaCode",options:["GN","LD","HO","DQ","tq"],type:"select"},age:{label:"Enter Age",name:"age",type:"text"}},a.state={userObjo:{trainNo:null,sourceCode:null,destCode:null,date:null,pref:null,quotaCode:null,age:null},isLoading:!1},a.handlePowerChange=function(e,t){var n={};Object.assign(n,a.state.userObjo),n[t]=e,a.setState({userObjo:n})},a.handleChange=function(e){var t=e.target,n={};if(Object.assign(n,a.state.userObjo),"date"===t.type){var o=j()(t.value,"YYYY-MM-DD").format("DD-MM-YYYY");n[t.name]=o}else n[t.name]=t.value;a.setState({userObjo:n})},a.toggleLoading=function(e){var t=e;a.setState({isLoading:t})},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=[];return Object.entries(this.seatFareObjo).forEach(function(n){var r=Object(y.a)(n,2),l=r[0],i=r[1];void 0===i||"SeatAvailability"===t.props.usage&&"age"===l||(e="date"===l?"input-field date-input-field input-shadow w-50 dib":"input-field input-shadow w-50 dib","select"===i.type?a.push(o.a.createElement(k,{labelClass:"ma2 dark-blue tr dib label-width label-anime",label:i.label,options:i.options,onchange:t.handleChange,onPowerChange:t.handlePowerChange,name:i.name})):a.push(o.a.createElement(f,{inputClass:e,labelClass:"ma2 dark-blue tr dib label-width label-anime",label:i.label,type:i.type,onchange:t.handleChange,name:i.name})))}),o.a.createElement("div",{className:"dib"},a,o.a.createElement(v,{onclick:function(){return t.props.seatFareAvailability(t.state.userObjo,t.props.usage,t.toggleLoading)},align:"tc pa2",class:"f5 link ph3 pv2 mb2 mt2 dib white bg-dark-blue br2",content:this.props.buttonContent,isLoading:this.state.isLoading}))}}]),t}(n.Component)),N=(a(88),function(e){var t=e.buttons.map(function(t){return o.a.createElement(v,{align:"pa2 dib",name:t.name,class:t.class,content:t.content,onclick:e.onclick})});return o.a.createElement("div",{className:"nav-compo tc"},t)}),A=(a(90),function(e){return o.a.createElement("div",{className:e.align},o.a.createElement("h1",{className:e.class},e.content))}),F=a(46),x=a.n(F),H=a(118),L=a(119),Y=(a(92),function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement(H.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(H.a.Header,{closeButton:!0},o.a.createElement(H.a.Title,{id:"contained-modal-title-vcenter"},this.props.modalHeader)),o.a.createElement(H.a.Body,null,o.a.createElement("h4",null,this.props.modalContentHeader),o.a.createElement("p",null,this.props.modalContent)),o.a.createElement(H.a.Footer,null,o.a.createElement(L.a,{onClick:this.props.onHide},"Close")))}}]),t}(n.Component)),P=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).canShowComponent=function(e){var t=e.target,n={};(n=Object(u.a)(a.state.renderContent)).forEach(function(e){e.name===t.name?e.canShow=!0:e.canShow=!1}),a.setState({renderContent:n})},a.modalClose=function(){return a.setState({showModal:!1})},a.callRailwayAPI=function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},a.pnrValidator=Object(c.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.railwayapi.com/v2/pnr-status/pnr/4707981579/apikey/mk8unxtdpr/",e.next=3,a.callRailwayAPI("https://api.railwayapi.com/v2/pnr-status/pnr/4707981579/apikey/mk8unxtdpr/");case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}},e,this)})),a.seatFareChecker=function(){var e=Object(c.a)(s.a.mark(function e(t,n,r){var l,i,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),"FareChecker"===n?(i={modalHeader:"Fare Checker",modalContentHeader:"For Preferred Quota:"},l="https://api.railwayapi.com/v2/fare/train/".concat(t.trainNo,"/source/").concat(t.sourceCode,"/dest/").concat(t.destCode,"/age/").concat(t.age,"/pref/").concat(t.pref,"/quota/").concat(t.quotaCode,"/date/").concat(t.date,"/apikey/mk8unxtdpr/")):(i={modalHeader:"Seat Availability",modalContentHeader:"Available Seats:"},l="https://api.railwayapi.com/v2/check-seat/train/".concat(t.trainNo,"/source/").concat(t.sourceCode,"/dest/").concat(t.destCode,"/date/").concat(t.date,"/pref/").concat(t.pref,"/quota/").concat(t.quotaCode,"/apikey/mk8unxtdpr/")),e.next=4,a.callRailwayAPI(l);case 4:c=e.sent,a.setState({showModal:!0,showModalContent:o.a.createElement(Y,{modalHeader:i.modalHeader,modalContentHeader:i.modalContentHeader,modalContent:c.fare||c.availability[0].status,show:"true",onHide:a.modalClose})}),r(!1);case 7:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.buttonsObjo=[{name:"pnrStatus",content:"Check PNR",class:"f6 link ba ph3 pv2 dib white bg-transparent button-shadow"},{name:"seatAvailability",content:"Check Availability",class:"f6 link ba ph3 pv2 dib white bg-transparent button-shadow"},{name:"seatFare",content:"Check Fare",class:"f6 link ba ph3 pv2 dib white bg-transparent button-shadow"}],a.state={renderContent:[{name:"pnrStatus",canShow:!1},{name:"seatAvailability",canShow:!1},{name:"seatFare",canShow:!1}],showModal:!1,showModalContent:o.a.createElement(Y,{modalHeader:"",modalContentHeader:"",modalContent:"",show:"true",onHide:a.modalClose}),animateComponents:!0},a.contentObjo={pnrStatus:o.a.createElement(w,{isLoading:a.state.isLoading,pnrValidator:a.pnrValidator}),seatAvailability:o.a.createElement(S,{isLoading:a.state.isLoading,usage:"SeatAvailability",seatFareAvailability:a.seatFareChecker,buttonContent:"Check Availability"}),seatFare:o.a.createElement(S,{isLoading:a.state.isLoading,usage:"FareChecker",seatFareAvailability:a.seatFareChecker,buttonContent:"Check Fare"})},a.animate=function(e){x()({targets:e.targets,translateY:e.translateY,translateX:e.translateX,duration:e.duration,opacity:[1,0],direction:"reverse",easing:"easeInOutSine"})},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.state.animateComponents&&(this.animate({targets:".container",translateX:0,translateY:300,duration:500}),this.animate({targets:".input-field",translateX:50,translateY:0,duration:700}),this.animate({targets:".label-anime",translateX:-50,translateY:0,duration:700}),this.setState({animateComponents:!1}))}},{key:"render",value:function(){var e,t=this,a=this.state.renderContent.reduce(function(e,a){return a.canShow&&e.push(t.contentObjo[a.name]),e},[]);return e=this.state.showModal?this.state.showModalContent:null,o.a.createElement("div",{className:"App"},o.a.createElement(N,{onclick:this.canShowComponent,buttons:this.buttonsObjo}),o.a.createElement(A,{align:"tc",class:"f2 ma4 dark-blue lobster-font",content:"The IRCTC Simulator"}),o.a.createElement("div",{className:"container"},a),e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){e.exports=a.p+"static/media/loading.cc56a401.svg"},52:function(e,t,a){e.exports=a(116)},58:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.b46c1228.chunk.js.map